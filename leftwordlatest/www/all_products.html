{% extends "templates/subbase.html" %}
{% block content %}
<!------header section end------>
<!-- banner-section -->
 <main>
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="le-pagehead">
                <h3>All Products</h3>
                <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/leftword_home">Home</a></li>
                        <!-- <li class="breadcrumb-item" aria-current="page">Books</li> -->
                        <li class="breadcrumb-item active" aria-current="page">All Products</li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</div>
<!-- banner section end -->


<div class="container">
    <div class="row">
        <div class="col col-sm-3 col-md-3 col-lg-3 col-xl-3 mt-4 filter-bar-left">
            <div class="row">
                <div class="col mb-4">
                    <div class="lw-leftFilter-block">
                        <div class="lw-filter">
                            <div class="lw-card card">
                                <div class="card-header">
                                    <div class="lw-filter-search">
                                        <form class="d-flex">
                                            <input id="categorySearchInput" class="form-control" type="search" placeholder="Search Categories" aria-label="Search">
                                            <button class="btn btn-secondary btn-sm" type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
                                        </form>
                                    </div>
                                </div>
                                <div class="card-body custom-scrollbar-css">
                                    <div class="filter-checkbox">
                                        {% if categories %}
                                            {% for cat in categories %}
                                                <div class="form-check">
                                                    <input class="form-check-input category_filter" type="checkbox" value="{{ cat }}" id="category-{{ loop.index }}" autocomplete="off">
                                                    <label class="form-check-label" for="category-{{ loop.index }}">
                                                        {{ cat }}
                                                    </label>
                                                </div>
                                            {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            <div class="lw-card card m-20">
                                <div class="filter-tag card-body">
                                    <ul id="filterTags"> <!-- Dynamic filter tags will populate here --> </ul>
                                </div>
                                <div class="card-footer card-align-center">
                                    <a href="#" id="clear-all-filters">Clear all</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
              <!-- Filter Section End -->

              <div class="col col-sm-12 col-md-12 col-lg-9 col-xl-9">
                <div class="row row-cols-12 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-4 mt-4 product_list">
                    {% if items %}
                        {% for item in items %}
                            <div class="col-xs mb-4">
                                <div class="itembooks card card-item">
                                    <a href="/productdetailspage?id={{ item.item_code }}" class="card-item-img">
                                        {% if item.image %}
                                            <img src="{{ item.image }}" class="img-fluid" alt="{{ item.web_item_name }}"
                                                 onerror="this.onerror=null; this.src='/src/img/blankImg.png';">
                                                 {% elif item.custom_website_image %}
                                                 <img src="{{ item.custom_website_image }}" class="img-fluid" alt="{{ item.web_item_name }}"
                                                      onerror="this.onerror=null; this.src='/src/img/blankImg.png';">
                                        {% elif item.website_image %}
                                            <img src="{{ item.website_image }}" class="img-fluid" alt="{{ item.web_item_name }}"
                                                 onerror="this.onerror=null; this.src='/src/img/blankImg.png';">
                                                 {% elif item.custom_image1 %}
                                            <img src="{{ item.custom_image1 }}" class="img-fluid" alt="{{ item.web_item_name }}"
                                                 onerror="this.onerror=null; this.src='/src/img/blankImg.png';">
                                                 {% elif item.custom_image2 %}
                                            <img src="{{ item.custom_image2 }}" class="img-fluid" alt="{{ item.web_item_name }}"
                                                 onerror="this.onerror=null; this.src='/src/img/blankImg.png';">
                                                 {% elif item.custom_image3 %}
                                            <img src="{{ item.custom_image3 }}" class="img-fluid" alt="{{ item.web_item_name }}"
                                                 onerror="this.onerror=null; this.src='/src/img/blankImg.png';">
                                        {% else %}
                                            <img src="/src/img/blankImg.png" class="img-fluid" alt="Default Image">
                                        {% endif %}
                                    </a>
                                    <div class="card-content">
                                        <div class="itemDetails">
                                            <a href="/productdetailspage?id={{ item.item_code }}" ><h6 class="text-limit2">{{ _(item.web_item_name) }}</h6></a>
                                            <p>{{ item.brand or '' }}</p>
                                        </div>
                                        <div class="cart-hover-sec">
                                            <div class="price-amount">
                                                <!-- Check for INR price -->
                                                <div class="price-amount currency_inr">
                                                   
                                                    {% if item.price_list_rate_inr > 0 %}
                                                        <span>INR</span>
                                                        {{ _(item.price_list_rate_inr) }}
                                                    {% else %}
                                                        <span style="color: red;">Not Available In INR</span>
                                                    {% endif %}
                                                </div>
                                                <!-- Check for USD price -->
                                                <div class="price-amount currency_usd">
                                                   
                                                    {% if item.price_list_rate_usd > 0 %}
                                                    <span>USD</span>
                                                        {{ _(item.price_list_rate_usd) }}
                                                    {% else %}
                                                        <span style="color: red;">Not Available In USD</span>
                                                    {% endif %}
                                                </div>
                                            </div>
 
 
                                           
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    {% endif %}
                </div>
            </div>
            
     
     <!-- <div class="row">
         <div class="col-lg-12">
             <div class="lw-pagination">
                 <nav aria-label="Page navigation example">
                     <ul class="pagination">
                         <li class="page-item">
                             <a class="page-link prev-page" href="#" aria-label="Previous">
                                 <span aria-hidden="true">«</span>
                             </a>
                         </li>
                         <li class="page-item paginate active current-page"><a class="page-link" href="#">1</a></li>
                         <li class="page-item paginate"><a class="page-link" href="#">2</a></li>
                         <li class="page-item paginate"><a class="page-link" hre
     
     



 <!-- <div class="row">
     <div class="col-lg-12">
         <div class="lw-pagination">
             <nav aria-label="Page navigation example">
                 <ul class="pagination">
                     <li class="page-item">
                         <a class="page-link prev-page" href="#" aria-label="Previous">
                             <span aria-hidden="true">«</span>
                         </a>
                     </li>
                     <li class="page-item paginate active current-page"><a class="page-link" href="#">1</a></li>
                     <li class="page-item paginate"><a class="page-link" href="#">2</a></li>
                     <li class="page-item paginate"><a class="page-link" href="#">3</a></li>
                     <li class="page-item">
                         <a class="page-link next-page" href="#" aria-label="Next">
                             <span aria-hidden="true">»</span>
                         </a>
                     </li>
                 </ul>
             </nav>
         </div>
     </div> -->
     <div class="row">
         <div class="col-lg-12">
           <div class="lw-pagination">
             <nav aria-label="Page navigation example">
               <ul class="pagination" data-item_count="{{item_count}}">
                 <li class="page-item">
                   <a class="page-link next-backward" href="#" aria-label="Previous">
                     <span aria-hidden="true">&laquo;</span>
                   </a>
                 </li>
                 <li class="page-item paginate active current-page"><a class="page-link" id="" value="1" href="">1</a></li>
                 {% for i in range(2) %}
                     {% if(i+1|int < page_count|int) %}
                       <li class="page-item paginate"><a class="page-link" id="" value="{{i+2}}" href="">{{i+2}}</a></li>
                     {% endif %}
                 {% endfor %}
                 <li class="page-item">
                   <a class="page-link next-forward" href="#" aria-label="Next">
                     <span aria-hidden="true">&raquo;</span>
                   </a>
                 </li>
               </ul>
             </nav>
           </div>
         </div>
       </div>
     </div>
   </div>
 </div>
</div>
 <!-- -------------------new release------------------ -->
 <div class="container-fluid lb-padd">
    <div class="container">
        <div class="row">
            <div class="col-xl-12">
                <div class="d-flex justify-content-between mt-4 mb-4">
                    <div class="lw-head">
                        <h3>New Releases</h3>
                    </div>
                    <!-- <ul class="nav nav-tabs-custom nav-right" id="myTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="history-tab" data-bs-toggle="tab"
                                data-bs-target="#history" type="button" role="tab" aria-controls="home"
                                aria-selected="true">History</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="science-tab" data-bs-toggle="tab" data-bs-target="#science"
                                type="button" role="tab" aria-controls="Science" aria-selected="false">Science &
                                Math</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="romance-tab" data-bs-toggle="tab" data-bs-target="#romance"
                                type="button" role="tab" aria-controls="Romance"
                                aria-selected="false">Romance</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="travel-tab" data-bs-toggle="tab" data-bs-target="#travel"
                                type="button" role="tab" aria-controls="Travel"
                                aria-selected="false">Travel</button>
                        </li>
                    </ul> -->
                </div>
                <div class="leftword-Releases">
                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade show active" id="history" role="tabpanel"
                            aria-labelledby="history-tab">
                            <section>
                                <div class="row">
                                    <div class="col-xl-12">
                                        <div class="row">
                                            {%if banners.get("Banner-3") %}
                      {%if banners.get("Banner-3").get("banner_images") %}
                                            <div class="col-xl-5 bg-color-light">
                                                <div class="new-releases-block">
                                                    <div class="new-releases-img">
                                                        <img src="{{banners.get('Banner-3').get('banner_images')[0]}}" class="img-fluid">
                                                    </div>
                                                    <div class="new-releases-cnt">
                                                        <!-- <h3>Get Extra</h3>
                                                        <h2>Sale -25%</h2>
                                                        <p>ON ORDER OVER $100</p> -->
                                                        <!-- <a href="" class="btn btn-primary">
                                                            View More
                                                        </a> -->
                                                    </div>
                                                </div>
                                            </div>
                                            {% endif %}
                                            {% endif %}
                                            <div class="col-xl-7">
                                                <div class="row">
                                                    {% for i in banners.get('Banner-3').get('items') %}
                                                    
                                                    <div class="col-xl-4 col-md-6">
                                                        <div class="itembooks card card-item">
                                                            <a href="/productdetailspage?id={{i.item_code}}" class="card-item-img">
                                                                {% if i.image %}
                                                                <img src="{{i.image}}" class="">
                                                                {% elif i.custom_website_image %}
                                                                <img src="{{i.custom_website_image}}" class="">
                                                                {%elif i.website_image %}
                                                                <img src="{{i.website_image}}" class="">
                                                                {%elif i.custom_image1%}
                                                                    <img src="{{i.custom_image1}}" class="">
                                                                    {%elif i.custom_image2%}
                                                                    <img src="{{i.custom_image2}}" class="">
                                                                    {%elif i.custom_image3%}
                                                                    <img src="{{i.custom_image3}}" class="">
                                                                {%else%}
                                                                <img src="/src/img/blankImg.png" class="">
                                                                {%endif%}
                                                            
                                        
                                                            </a>
                                                            <div class="card-content">
                                                                <div class="itemDetails">
                                                                    <a href="/productdetailspage?id={{ i.item_code }}"> <h6 class="text-limit2">{{_(i.web_item_name)}}
                                                                    </h6></a>
                                                                    <p>{{_(i.custom_publisher or "")}}</p>
                                                                    <!-- <div class="Stars" style="--rating: 3;" aria-label="Rating of this product is 3 out of 5."></div> -->
                                                                </div>
                                                                <div class="cart-hover-sec">
                                                                    <div class="price-amount">
                                                                        <span class="item-price currency_inr">INR {{_(i.price_list_rate_inr)}}</span>
                                                                        <span class="item-price currency_usd">USD {{_(i.price_list_rate_usd)}}</span>
                                                                      
                                                                        
                                                                    </div>
                                                                    <div class="add-cart-btn">
                                                                        <!-- <a href="" class="btn-primary btn-style btn-icon-left">ADD TO CART</a> -->
                                                                        <!-- <span class="heart-icon"><i class="fa fa-heart fa-regular cart-heart"></i></span> -->
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    {% endfor %}
                                                </div>
                                               
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                     
                    </div>
                </div>
            </div>
        </div>
        <!-- row end -->
    </div>
    <!-- container end -->
</div>
</main>
<style>
   /* .card-item-img {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 175px; 
    height: 200px; 
    overflow: hidden;
    text-align: center;
    background-color: #ccc; 
    position: relative;
    border: 1px solid #ccc; 
    border-radius: 4px; 
}

.card-item-img img {
    width: 175px; 
    height: auto; 
    object-fit: cover; 
    object-position: center; 
    border: 1px solid #ccc; 
    border-radius: 4px; 
}


.card-item-img img {
    width: auto;
    height: 100%;
    margin: 0 auto; 
}

@media (max-width: 768px) {
    .card-item-img {
        height: 200px;
    }
} */
</style>
<script>
    document.getElementById("categorySearchInput").addEventListener("input", function(e) {
    const searchTerm = e.target.value.toLowerCase();
    document.querySelectorAll(".filter-checkbox .form-check").forEach(category => {
        const categoryName = category.querySelector("label").textContent.toLowerCase();
        if (categoryName.includes(searchTerm)) {
            category.style.display = "block";
        } else {
            category.style.display = "none";
        }
    });
});


document.getElementById('clear-all-filters').addEventListener('click', function (e) {
    e.preventDefault(); 

    const checkboxes = document.querySelectorAll('.category_filter');
    checkboxes.forEach(checkbox => checkbox.checked = false);

    location.reload();
});


    </script>
 {%endblock%}



















